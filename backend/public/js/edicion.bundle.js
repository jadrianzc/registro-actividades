!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=8)}([function(e,t,a){},function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/WelcomeSW.png"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/task.png"},function(e,t,a){const r=new(a(4));e.exports=class{async renderTrabajos(e){const t=(await r.getTrabajo()).data,a=[];t.forEach(t=>{t.cod_trabajo===e.cod_trabajo&&-1===a.indexOf(t)&&a.push(t),t.mat_trabajo===e.mat_trabajo&&-1===a.indexOf(t)&&a.push(t),t.cur_trabajo===e.cur_trabajo&&-1===a.indexOf(t)&&a.push(t),t.prof_trabajo===e.prof_trabajo&&-1===a.indexOf(t)&&a.push(t)});const n=document.querySelector("#table .tbody");n.innerHTML="",a.forEach(e=>{const t=document.createElement("tr");t.innerHTML=`\n                    <th>${e.cod_trabajo}</th>\n                    <td>${e.mat_trabajo}</td>\n                    <td>${e.prof_trabajo}</td>\n                    <td>${e.act_trabajo}</td>\n                    <td>${e.des_trabajo}</td>\n                    <td>${e.fei_trabajo}</td>\n                    <td>${e.fec_trabajo}</td>\n                    <td>${e.cur_trabajo}</td>\n            `,n.appendChild(t)})}async renderTrabajosDelete(e){const t=(await r.getTrabajo()).data,a=[];t.forEach(t=>{t.cod_trabajo===e.cod_trabajo&&-1===a.indexOf(t)&&a.push(t),t.mat_trabajo===e.mat_trabajo&&-1===a.indexOf(t)&&a.push(t),t.cur_trabajo===e.cur_trabajo&&-1===a.indexOf(t)&&a.push(t),t.prof_trabajo===e.prof_trabajo&&-1===a.indexOf(t)&&a.push(t)});const n=document.querySelector("#table .tbody");n.innerHTML="",a.forEach(e=>{const t=document.createElement("tr");t.innerHTML=`\n                    <th>${e.cod_trabajo}</th>\n                    <td>${e.mat_trabajo}</td>\n                    <td>${e.prof_trabajo}</td>\n                    <td>${e.act_trabajo}</td>\n                    <td>${e.des_trabajo}</td>\n                    <td>${e.fei_trabajo}</td>\n                    <td>${e.fec_trabajo}</td>\n                    <td>${e.cur_trabajo}</td>\n                    <td><a href="#" class="btn btn-danger delete" cod_trabajo=${e.cod_trabajo}>X</a></td>\n            `,n.appendChild(t)})}async renderTrabajoById(e){const t=(await r.getTrabajoOne(e)).data;console.log(t);const a=document.getElementById("tarea"),n=document.getElementById("descripcion"),o=document.getElementById("materia"),d=document.getElementById("curso"),s=document.getElementById("docente"),c=document.getElementById("fInicio"),i=document.getElementById("fFin");t?t.cod_trabajo===e&&(a.value=t.act_trabajo,n.value=t.des_trabajo,o.value=t.mat_trabajo,d.value=t.cur_trabajo,s.value=t.prof_trabajo,c.value=t.fei_trabajo,i.value=t.fec_trabajo):(this.renderMessage("El código ingresado no es correcto","danger"),this.clearFormEditar(),document.getElementById("guardar").setAttribute("disabled","true"))}async addTrabajos(e){const t=await r.postTrabajo(e);t==="Actividad creada".toUpperCase()?this.renderMessage(t,"success"):this.renderMessage(t,"danger"),this.clearFormIngreso()}async updateTrabajos(e){const t=await r.putTrabajo(e);t==="Datos actualizados".toUpperCase()?this.renderMessage(t,"success"):this.renderMessage(t,"danger"),this.clearFormEditar()}async deleteTrabajos(e){const t=await r.deleteTrabajo(e);t==="Dato eliminado".toUpperCase()?this.renderMessage(t,"success"):this.renderMessage(t,"danger")}renderMessage(e,t){const a=document.createElement("div");a.className=`alert alert-${t} message text-center`,a.appendChild(document.createTextNode(e));const r=document.querySelector(".main-container"),n=document.querySelector(".main-form");r.insertBefore(a,n),setTimeout(()=>{document.querySelector(".message").remove()},3e3)}clearFormIngreso(){document.getElementById("actividad-form").reset()}clearFormConsultar(){document.getElementById("consulta-form").reset()}clearFormEditar(){document.getElementById("consultaEdi-form").reset(),document.getElementById("edicion-form").reset()}clearFormEliminar(){document.getElementById("eliminar-form").reset()}}},function(e,t){e.exports=class{constructor(){this.URI="http://localhost:3000/api/trabajos"}async getTrabajo(){const e=await fetch(this.URI);return await e.json()}async getTrabajoOne(e){const t=await fetch(`${this.URI}/${e}`);return await t.json()}async postTrabajo(e){const t=JSON.stringify(e),a=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"POST",body:t});return(await a.json()).message.toUpperCase()}async putTrabajo(e){const t=JSON.stringify(e),a=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"PUT",body:t});return(await a.json()).message.toUpperCase()}async deleteTrabajo(e){const t=await fetch(`${this.URI}/${e}`,{headers:{"Content-Type":"application/json"},method:"DELETE"});return(await t.json()).message.toUpperCase()}}},,,,function(e,t,a){a(0),a(1),a(2);const r=a(3),n=/^[a-zA-Z0-9\_\-\s]{5,25}$/;let o=!1;const d=e=>{"tarea"===e.target.id&&(n.test(e.target.value)?(document.getElementById("tarea").classList.remove("border-incorrecto"),document.getElementById("messageTarea").classList.remove("d-block"),o=!0):(document.getElementById("tarea").classList.add("border-incorrecto"),document.getElementById("messageTarea").classList.add("d-block"),o=!1))};document.getElementById("tarea").addEventListener("keyup",d),document.getElementById("tarea").addEventListener("blur",d),document.getElementById("consultaEdi-form").addEventListener("submit",e=>{e.preventDefault(),document.getElementById("guardar").removeAttribute("disabled");let t=document.getElementById("codigo").value;t=parseInt(t);(new r).renderTrabajoById(t)}),document.getElementById("edicion-form").addEventListener("submit",async e=>{if(e.preventDefault(),o){let e=document.getElementById("codigo").value;e=parseInt(e);const t=document.getElementById("tarea").value.toUpperCase(),a=document.getElementById("descripcion").value.toUpperCase(),n=document.getElementById("materia").value,o=document.getElementById("curso").value,d={cod_trabajo:e,mat_trabajo:n,prof_trabajo:document.getElementById("docente").value,act_trabajo:t,des_trabajo:a,fei_trabajo:document.getElementById("fInicio").value,fec_trabajo:document.getElementById("fFin").value,cur_trabajo:o},s=new r;await s.updateTrabajos(d),document.getElementById("guardar").setAttribute("disabled","true")}else{(new r).renderMessage("Debe editar un campo, y que este sean válidos","danger")}}),document.getElementById("borrar").addEventListener("click",e=>{e.preventDefault();(new r).clearFormEditar(),document.getElementById("guardar").setAttribute("disabled","true")})}]);
//# sourceMappingURL=edicion.bundle.js.map